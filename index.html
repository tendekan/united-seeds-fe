<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>UnitedSeeds ‚Äî Lifelong Learning Platform</title>
    <meta name="description" content="UnitedSeeds: Share skills, learn from others, pay and tip creators.">
    <link rel="stylesheet" href="./styles.css">

    <!--
      UnitedSeeds OAuth Setup (Google & Facebook)
      -------------------------------------------------
      This demo uses client-side OAuth via official SDKs. To enable:

      1) Serve this app over http:// or https:// (not file://). For quick dev:
         - Python:   python3 -m http.server 5173
         - Node:     npx http-server -p 5173
         Then open http://localhost:5173

      2) Google (Google Identity Services):
         - Create a Web Client ID in Google Cloud Console (OAuth 2.0 client IDs)
         - Authorized JavaScript origins: http://localhost:5173 (and your prod domain)
         - Replace data-client_id below with your Client ID
         - Optionally update allowed domains/origins

      3) Facebook Login:
         - Create an App at developers.facebook.com ‚Üí Add Product ‚Üí Facebook Login (Web)
         - App Domains: localhost
         - Valid OAuth Redirect URIs: https://www.facebook.com/connect/login_success.html
           (for client-side implicit flow used by FB.login)
         - Replace FACEBOOK_APP_ID below

      4) Security note:
         - This is a pure frontend demo. Do NOT trust ID tokens solely on the client in production.
         - In production, verify tokens on a backend and issue your own session.
    -->

    <!-- Google Identity Services SDK -->
    <script src="https://accounts.google.com/gsi/client" async defer></script>
    <!-- Facebook SDK will be loaded dynamically in app.js -->
</head>
<body>
    <header class="site-header">
        <div class="brand">
            <div class="titles">
                <h1>UnitedSeeds</h1>
                <p>Grow skills. Share knowledge. Tip creators.</p>
            </div>
        </div>
        <nav class="auth-nav">
            <div id="auth-when-signed-out" class="auth-actions">
                <button id="btn-open-signin" class="btn btn-secondary" title="Sign in">Sign in</button>
                <button id="btn-open-signup" class="btn" title="Sign up">Sign up</button>
            </div>
            <div id="auth-when-signed-in" class="profile hidden">
                <img id="profile-picture" class="avatar" alt="Profile" src=""/>
                <div class="profile-info">
                    <div id="profile-name" class="name"></div>
                    <div id="profile-email" class="email"></div>
                </div>
                <button id="btn-signout" class="btn btn-secondary">Sign out</button>
            </div>
        </nav>
    </header>

    <!-- Auth Modal -->
    <div id="auth-modal" class="modal hidden" aria-hidden="true" role="dialog" aria-modal="true">
        <div class="modal-backdrop" data-close="true"></div>
        <div class="modal-dialog" role="document">
            <button class="modal-close" id="auth-modal-close" aria-label="Close">√ó</button>
            <h3 id="auth-modal-title">Continue with</h3>
            <div class="modal-actions">
                <button id="btn-modal-google" class="btn btn-google" title="Continue with Google">
                    <span class="icon">G</span> Continue with Google
                </button>
            </div>
            <p class="muted small">By continuing, you agree to our Terms and acknowledge our Privacy Policy.</p>
        </div>
    </div>

    <main class="container">
        <section id="landing" class="card">
            <div style="position: relative; width: 100%; height: 0; padding-top: 434.9927%; padding-bottom: 0; box-shadow: 0 2px 8px 0 rgba(63,69,81,0.16); margin-top: 1.6em; margin-bottom: 0.9em; overflow: hidden; border-radius: 8px; will-change: transform;">
                <iframe loading="lazy" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0; border: none; padding: 0;margin: 0;" src="https://www.canva.com/design/DAG3zLhxUqs/pqEfrh_IQ5PaEJn1x1ky5Q/view?embed" allowfullscreen="allowfullscreen" allow="fullscreen"></iframe>
            </div>
        </section>
        <!-- App shell shown after login -->
        <section id="app-shell" class="card hidden">
            <div class="app-shell">
                <aside class="sidebar">
                    <nav class="menu">
                        <button id="nav-create" class="menu-item" title="Create Post"><span class="menu-icon">‚úçÔ∏è</span><span>Create Post</span></button>
                        <button id="nav-services" class="menu-item" title="Services"><span class="menu-icon">üß©</span><span>Services</span></button>
                        <button id="nav-dating" class="menu-item" title="Dating"><span class="menu-icon">üíû</span><span>Dating</span></button>
                        <button id="nav-settings" class="menu-item" title="Settings"><span class="menu-icon">‚öôÔ∏è</span><span>Settings</span></button>
                    </nav>
                </aside>
                <section class="main-pane">
                    <div id="composer" class="composer hidden">
                        <div class="grid">
                            <label>
                                <span>Category</span>
                                <select id="post-category" class="compact"></select>
                            </label>
                            <label>
                                <span>Subcategory</span>
                                <select id="post-subcategory" class="compact"></select>
                            </label>
                        </div>
                        <label>
                            <span>Video (optional)</span>
                            <input id="post-video" class="compact" type="file" accept="video/*">
                        </label>
                        <textarea id="post-text" class="narrow" rows="8" placeholder="Share something with the community..."></textarea>
                        <div class="actions">
                            <button id="btn-post" class="btn">Post</button>
                        </div>
                    </div>
                    <div id="services-view" class="services-view hidden">
                        <div class="category-tiles">
                            <button class="category-tile" data-category="gardening" title="Gardening">
                                <div class="ct-icon">üåø</div>
                                <div class="ct-title">Gardening</div>
                            </button>
                            <button class="category-tile" data-category="home-repairs" title="Home Repairs">
                                <div class="ct-icon">üõ†Ô∏è</div>
                                <div class="ct-title">Home Repairs</div>
                            </button>
                            <button class="category-tile" data-category="short-stays" title="Short-term stays">
                                <div class="ct-icon">üè†</div>
                                <div class="ct-title">Short-term stays</div>
                            </button>
                            <button class="category-tile" data-category="long-stays" title="Long-term stays">
                                <div class="ct-icon">üè°</div>
                                <div class="ct-title">Long-term stays</div>
                            </button>
                            <button class="category-tile" data-category="building" title="Building">
                                <div class="ct-icon">üèóÔ∏è</div>
                                <div class="ct-title">Building</div>
                            </button>
                            <button class="category-tile" data-category="finance" title="Finance">
                                <div class="ct-icon">üíº</div>
                                <div class="ct-title">Finance</div>
                            </button>
                            <button class="category-tile" data-category="it-lessons" title="IT Lessons">
                                <div class="ct-icon">üíª</div>
                                <div class="ct-title">IT Lessons</div>
                            </button>
                            <button class="category-tile" data-category="car-repairs" title="Car Repairs">
                                <div class="ct-icon">üöó</div>
                                <div class="ct-title">Car Repairs</div>
                            </button>
                            <button class="category-tile" data-category="sport" title="Sport">
                                <div class="ct-icon">üèÄ</div>
                                <div class="ct-title">Sport</div>
                            </button>
                            <button class="category-tile" data-category="pets" title="Pets">
                                <div class="ct-icon">üêæ</div>
                                <div class="ct-title">Pets</div>
                            </button>
                            <button class="category-tile" data-category="art" title="Art">
                                <div class="ct-icon">üé®</div>
                                <div class="ct-title">Art</div>
                            </button>
                            <button class="category-tile" data-category="beauty" title="Beauty">
                                <div class="ct-icon">üíÑ</div>
                                <div class="ct-title">Beauty</div>
                            </button>
                            <button class="category-tile" data-category="healthcare" title="Healthcare">
                                <div class="ct-icon">ü©∫</div>
                                <div class="ct-title">Healthcare</div>
                            </button>
                            <button class="category-tile" data-category="fashion" title="Fashion">
                                <div class="ct-icon">üëó</div>
                                <div class="ct-title">Fashion</div>
                            </button>
                            <button class="category-tile" data-category="cooking" title="Cooking">
                                <div class="ct-icon">üë©‚Äçüç≥</div>
                                <div class="ct-title">Cooking</div>
                            </button>
                        </div>
                    </div>
                    <div id="dating-view" class="dating-view hidden">
                        <div class="dating-hero">
                            <img loading="lazy" src="https://images.unsplash.com/photo-1584467735871-3316d0b4f63a?q=80&w=1200&auto=format&fit=crop" alt="Elderly couple smiling together" onerror="this.style.display='none'"/>
                            <div class="dating-slogan">Find your perfect match now</div>
                        </div>
                    </div>
                    <div id="settings-view" class="settings-view hidden">
                        <label class="check">
                            <input type="checkbox" id="opt-use-profile-dating" checked>
                            <span>Use profile for dating</span>
                        </label>
                        <div class="settings-grid">
                            <label>
                                <span>Default language</span>
                                <select id="settings-language" class="compact">
                                    <option value="en">English</option>
                                    <option value="bg">Bulgarian</option>
                                    <option value="ro">Romanian</option>
                                    <option value="sv">Swedish</option>
                                    <option value="nl">Dutch</option>
                                </select>
                            </label>
                            <label>
                                <span>Preferred currency</span>
                                <select id="settings-currency" class="compact">
                                    <option value="EUR">EUR</option>
                                    <option value="BGN">BGN</option>
                                    <option value="RON">RON</option>
                                </select>
                            </label>
                        </div>
                    </div>
                    <div id="posts-list" class="posts-list"></div>
                    <div id="posts-pagination" class="pagination hidden">
                        <button id="posts-prev" class="btn btn-secondary" disabled>Previous</button>
                        <span id="posts-page" class="muted" style="margin: 0 8px;">Page 1</span>
                        <button id="posts-next" class="btn btn-secondary">Next</button>
                    </div>
                </section>
            </div>
        </section>
    </main>

    <footer class="site-footer">
        <div>¬© <span id="year"></span> UnitedSeeds</div>
    </footer>

    <div id="toast" class="hidden" style="position:fixed;right:16px;bottom:16px;background:#388E3C;color:#fff;padding:10px 14px;border-radius:8px;box-shadow:0 4px 12px rgba(0,0,0,0.15);z-index:9999;max-width:80vw;"></div>

    <div id="global-spinner" class="hidden" aria-hidden="true" style="position:fixed;inset:0;display:flex;align-items:center;justify-content:center;background:rgba(15,23,42,0.35);z-index:9998;">
        <div style="background:#ffffff;padding:16px 18px;border-radius:10px;box-shadow:0 10px 30px rgba(0,0,0,0.15);display:flex;align-items:center;gap:12px;color:#4A6572;">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" style="animation:spin 1s linear infinite">
                <circle cx="12" cy="12" r="10" stroke="#cfd8dc" stroke-width="4"></circle>
                <path d="M22 12a10 10 0 0 1-10 10" stroke="#388E3C" stroke-width="4" stroke-linecap="round"></path>
            </svg>
            <span>Processing‚Ä¶</span>
        </div>
    </div>

    <style>
        @keyframes spin { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }
    </style>

    <script>
        // Replace with your real IDs before deploying
        window.UNITEDSEEDS_GOOGLE_CLIENT_ID = "118701076488-ftubu48jfl4tvk7dg6op1cs25kl7fl7i.apps.googleusercontent.com";
        window.UNITEDSEEDS_FACEBOOK_APP_ID = "1951774835614505";
    </script>
    <script src="./app.js"></script>
</body>
</html>

